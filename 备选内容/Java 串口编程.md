# Java 串口编程

### 来自学姐的Java定制

<br/>

<br/>

### 1. RXTX的安装

<br/>

RXTX开源类库提供串口和并口通信，与sun提供的comm.jar基本相同

<br/>

#### [下载地址](http://rxtx.qbang.org/wiki/index.php/Download) 

推荐下载 stable 版本

<br/>

安装后解压得到如下文件夹：

<img height="160" src="https://github.com/AngleOldPig/ZangZang-s-Coding-Course/raw/master/Resources/images/JAVA-RXTX组件.png">

<br/>

安装需要将 RXTXcomm.jar 放到 %JAVA_HOME%\jre\lib\ext\ 下

打开 Windows 文件夹，把里面的 rxtxSerial.dll 放入到 %JAVA_HOME%\jre\bin 中，或 C:\windows\system32 中

<br/>


### 2. Serial port utility

<br/>

Serial port utility 是串口调试工具

#### [下载地址](http://www.alithon.com/downloads)

<br/>

### 3. 通信接口标准

<br/>

#### 3.1 RS-232

<br/>

美国电子工业联盟（EIA）制定的串行数据通信的接口标准

目前使用的是 RS-232-C

<br/>

#### 3.2 RS-485

<br/>

RS485是隶属于OSI模型物理层的电气特性规定为2线、半双工、平衡传输线多点通信的标准。

在线性多点总线的配置下，可以在一个网络上有多个接收器，因此适用在工业环境中。

<br/>

#### 3.3 RS-422

<br/>

RS-422是一系列的规定采用4线，全双工，差分传输，多点通信的数据传输协议。

和RS-485不同的是RS-422不允许出现多个发送端而只能有多个接受端。

硬件构成上RS-422相当于两组RS-485，即两个半双工的RS-485构成一个全双工的RS-422。

这个标准的一些关键优点包括RS-423定义的多重接受端，当电缆线的长度为12米（40英尺）时传输速率可以达到10Mb/s，以及工业环境的长距离数据传输。

<br/>

### 4. 工作思路

<br/>

#### 4.1 查询器件说明文档

<br/>

尤其要关注引脚的二进制信号，和指令的含义。

<br/>

#### 4.2 调用计算机串口，监听端口参数

<br/>

尝试调用计算机的串口，监听端口参数，写个这个方法来实现。

我们需要知道引脚都发了什么信号出来。

<br/>

#### 4.3 参照协议理解指令

<br/>

学习一下协议，看看他们各自的沟通规则，哪条指令是干什么的。

主板上的log内容挺丰富的，不过需要阅读英文。

要看看引脚发出了信号，具体要做什么。

<br/>

#### 4.4 尝试rts的send功能，实现数据传输到串口引脚

<br/>

主要看看能不能接收到数据，用于验证方案是不是可行。

<br/>

#### 4.5 自定义数据与接收返回

<br/>

把自己定义的数据，和接收返回的那些结果，都定义个新的方法来给用户使用。

<br/>

#### 4.6 异常处理

<br/>

每一个方法都要做异常处理，要不然单靠硬件上的针位保护，应该是不够的。

<br/>

<br/>